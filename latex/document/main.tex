% !TEX encoding = UTF-8 Unicode
% !TEX spellcheck = en
% spell-checker:ignore RWTH, leavevmode, qedhere, siunitx, titlehead
% \documentclass{amsbook}

\documentclass[fleqn,bibliography=totoc,index=totoc,paper=A4,twoside=semi,DIV=12]{scrbook}
% \usepackage[a4paper,left=1.5in,right=1.5in,bottom=0.3in,top=0.1in]{geometry}
% \usepackage[fontsize=12pt]{fontsize}
\usepackage{acro}
% \usepackage{minted}
\usepackage{imakeidx}
\makeindex[columns=3, title=Index, intoc]
\usepackage{rotating}
\usepackage[american]{babel}
\usepackage{adjustbox}
\usepackage[T1]{fontenc} 
\usepackage[utf8]{inputenc}
\usepackage{listings}
% spell-checker:disable
% Restore the typical KOMA-Script style fonts, which are changed by setting fontenc to T1
\usepackage{lmodern}
\DeclareSymbolFont{largesymbols}{OMX}{cmex}{m}{n} % use cmex rather than lmex
% spell-checker:enable
% \usepackage{stmaryrd} 
\usepackage{styleBB}
\usepackage{bm} 
% \usepackage{xltxtra}  
\usepackage{multirow}
\usepackage{algorithm2e}
\crefname{algocf}{Algorithm}{Algorithm}
% {\usepackage[capitalise,noabbrev,ngerman]{cleveref}}
% {\usepackage[capitalise,noabbrev]{cleveref}}
\usepackage{nicefrac}
\usepackage{afterpage}
\usepackage{graphicx}
\usepackage{caption}
\usepackage{subcaption}
\usetikzlibrary{positioning}
% \usepackage[symbols,nogroupskip,sort=none]{glossaries-extra}
\usepackage[symbols,nogroupskip,nonumberlist,sort=use]{glossaries-extra}
\makenoidxglossaries
\usepackage[utf8]{inputenc}
\usepackage{pgfplots}
% \DeclareUnicodeCharacter{2212}{âˆ’}
\usepgfplotslibrary{groupplots,dateplot}
\usetikzlibrary{patterns,shapes.arrows}
\usetikzlibrary{arrows}

\usetikzlibrary{positioning}
\usetikzlibrary{arrows.meta}
\usetikzlibrary{shapes}
\usetikzlibrary{graphs}
\usetikzlibrary{quotes}
\usetikzlibrary {shapes.arrows} 
\pgfplotsset{compat=newest}
\usepackage{tikz}
%\usepackage{etoolbox} % for \ifthen
\usepackage{listofitems} % for \readlist to create arrays
\usetikzlibrary{arrows.meta} % for arrow size
\usepackage[outline]{contour} % glow around text
\contourlength{1.4pt}

\tikzset{>=latex} % for LaTeX arrow head
\usepackage{xcolor}
% \colorlet{myred}{red!255!green!255!blue!255}
% \colorlet{myblue}{blue!80!black}
% \colorlet{mygreen}{green!60!black}
% \colorlet{myorange}{orange!70!red!60!black}
% \colorlet{mydarkred}{red!30!black}
% \colorlet{mydarkblue}{blue!40!black}
% \colorlet{mydarkgreen}{green!30!black}
\tikzstyle{node}=[thick,circle,draw=black,minimum size=22,inner sep=0.5,outer sep=0.6]
\tikzstyle{node in}=[node,black,draw=black,fill=white]
\tikzstyle{node hidden}=[node,black,draw=black,fill=white]
\tikzstyle{node convol}=[node,black,draw=black,fill=white]
\tikzstyle{node out}=[node,black,draw=black,fill=white]
\tikzstyle{connect}=[thick,black] %,line cap=round
\tikzstyle{connect arrow}=[-{Latex[length=4,width=3.5]},thick,black,shorten <=0.5,shorten >=1]
\tikzset{ % node styles, numbered for easy mapping with \nstyle
  node 1/.style={node in},
  node 2/.style={node hidden},
  node 3/.style={node out},
}
\def\nstyle{int(\lay<\Nnodlen?min(2,\lay):3)} % map layer number onto 1, 2, or 3
\usepackage{stmaryrd}
\SetSymbolFont{stmry}{bold}{U}{stmry}{m}{n}
\SetSymbolFont{stmry}{bold}{U}{stmry}{b}{n}
\SetSymbolFont{stmry}{bold}{U}{stmry}{b}{n}
% \usepackage{stmaryrd}
% \SetSymbolFont{stmry}{bold}{U}{stmry}{m}{n}
% \usepackage[acronym]{glossaries}
% \usepackage{algorithm}
% \usepackage{algpseudocode}
% \usepackage{algorithmic}
% \usepackage{silence}
% \WarningFilter{latex}{Marginpar on page}

\setlength{\marginparwidth}{2cm}
\usepackage[textsize=tiny]{todonotes}

\graphicspath{
{./figures/},
}

\usepackage{xcolor}

\definecolor{codegreen}{RGB}{105,153,89}
\definecolor{codegray}{RGB}{30,30,30}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{RGB}{30,30,30}
\definecolor{almostwhite}{RGB}{211,211,211}

% \lstdefinestyle{mystyle}{
%     backgroundcolor=\color{white},   
%     commentstyle=\color{codegreen},
%     keywordstyle=\color{magenta},
%     numberstyle=\tiny\color{codegray},
%     stringstyle=\color{codepurple},
%     % rulecolor=\color{almostwhite}
%     basicstyle=\ttfamily\footnotesize,
%     breakatwhitespace=false,         
%     breaklines=true,                 
%     captionpos=b,                    
%     keepspaces=true,                 
%     numbers=left,                    
%     numbersep=5pt,                  
%     showspaces=false,                
%     showstringspaces=false,
%     showtabs=false,                  
%     tabsize=2
% }
% Python style for highlighting
\lstdefinestyle{pythonMSIP}{
    language=python,
    showtabs=true,
    tab=,
    tabsize=2,
    basicstyle=\ttfamily\footnotesize,
    upquote=true,
    stringstyle=\color{orange!80!black},
    showstringspaces=false,
    morekeywords={as},
    otherkeywords={\%, \}, \{, \&, \|},
    keywordstyle=\color{magenta!70!black}\bfseries,
    emph={and,break,class,continue,def,yield,del,elif ,else,%
    except,exec,finally,for,from,global,if,import,in,%
    lambda,not,or,pass,print,raise,return,try,while,assert,with},
    emphstyle=\color{blue}\bfseries,
    emph={[2]True, False, None, def, in, class},
    emphstyle=[2]\color{blue!80!black},
    emph={[3]object,type,astype,isinstance,copy,deepcopy,zip,enumerate,reversed,list,set,len,dict,tuple,xrange,append,execfile,real,imag,reduce,str,repr,range},
    emphstyle=[3]\color{yellow!60!black},
    emph={Exception,NameError,IndexError,SyntaxError,TypeError,ValueError,OverflowError,ZeroDivisionError},
    emphstyle=\color{yellow!50!red}\bfseries,
    morecomment=[s]{"""}{"""},
    commentstyle=\color{green!50!black}\slshape,
    emph={[4]ode, fsolve, sqrt, exp, sin, cos,arctan, arctan2, arccos, pi,  array, norm, solve, dot, arange, isscalar, max, sum, flatten, shape, reshape, find, any, all, abs, plot, linspace, legend, quad, polyval,polyfit, hstack, concatenate,vstack,column_stack,empty,zeros,ones,rand,vander,grid,pcolor,eig,eigs,eigvals,svd,qr,tan,det,logspace,roll,min,mean,cumsum,cumprod,diff,vectorize,lstsq,cla,eye,xlabel,ylabel,squeeze, floor, size, pad, meshgrid, tensordot, median, amin, amax},
    emphstyle=[4]\color{blue!60!green},
    emph={[5]__init__,__add__,__mul__,__div__,__sub__,__call__,__getitem__,__setitem__,__eq__,__ne__,__nonzero__,__rmul__,__radd__,__repr__,__str__,__get__,__truediv__,__pow__,__name__,__future__,__all__},
    emphstyle=[5]\color{blue!50!white},
    frame=trbl,
    rulecolor=\color{black!40},
    breakindent=.5\textwidth,frame=single,breaklines=true%
}


% \lstset{style=mystyle}
\lstset{style=pythonMSIP}



\pgfplotsset{
  table/search path={data},
}
\addbibresource{/Users/rknot/sciebo/jabref_files/database.bib}
% \addbibresource{./database.bib}



\renewcommand{\chaptermark}[1]{\markboth{\thechapter\,\,#1}{}}
\renewcommand{\sectionmark}[1]{\markright{\thesection\,\,#1}}
\newtheorem{problem}{Problem}

\usepackage[headsepline]{scrlayer-scrpage}
\clearpairofpagestyles
\addtokomafont{pagehead}{\normalfont\bfseries}
\lohead{\rightmark}
\rohead{\thepage}
\lehead{\thepage}
\rehead{\leftmark}

% \makeindex

\includeonly{
            %  frontmatter,
            %  dedication,
            %  abstract,
            %  acknowledgements,
            %  symbols,
            %  Introduction,
             Mathematical Preliminaries,
             Deep Unfolding of Wirtinger Flow,
            %  Results,
            %  Conclusion,
             }

\input{acro.tex}

\input{commands.tex}
\begin{document}

\include{frontmatter} 

\tableofcontents

\mainmatter
\include{dedication}
\include{abstract}
\include{acknowledgements} 


\printacronyms[include=abbrev, name=Abbreviation]
\addcontentsline{toc}{chapter}{Abbreviations and Acronyms}
\printacronyms[include=acronym,name=Acronyms]

\include{symbols}
\printunsrtglossary[type=symbols,style=long,title=Symbols and Conventions]
\include{Introduction}
\include{Mathematical Preliminaries}  
\include{Deep Unfolding of Wirtinger Flow} 
\include{Results}
\include{Conclusion}
\nocite{*}
\backmatter
\printindex
\printbibliography

\end{document}